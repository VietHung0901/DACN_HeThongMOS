<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>DANH SÁCH THÍ SINH</title>
    <th:block th:replace="~{layout::link-css}"></th:block>
    <th:block th:replace="~{layout::custom-css}"></th:block>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
<th:block th:replace="~{layout::headerAdminTruong}"></th:block>
<!--<div style=" padding: 95px;">-->
<!--    <div class="d-flex justify-content-center mb-3">-->
<!--        <h1 class="my-4">-->
<!--            Xuất Danh Sách Thí Sinh Theo Trường-->
<!--        </h1>-->
<!--    </div>-->
<!--    <div class="table-responsive">-->
<!--        <table class="table table-striped table-hover">-->
<!--            <thead>-->
<!--            <tr>-->
<!--                <th>Mã phiếu</th>-->
<!--                <th>Cuộc thi</th>-->
<!--                <th>CCCD</th>-->
<!--                <th>Họ và tên</th>-->
<!--                <th>Ngày sinh</th>-->
<!--                <th>Email</th>-->
<!--                <th>SDT</th>-->
<!--                <th>Trường</th>-->
<!--                <th>Điểm</th>-->
<!--                <th>Thao tác</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="phieuDangKy : ${phieuDangKys}">-->
<!--                <td th:text="${phieuDangKy.id}"></td>-->
<!--                <td th:text="${phieuDangKy.cuocThi.getTenCuocThi()}"></td>-->
<!--                <td th:text="${phieuDangKy.user.getCccd()}"></td>-->
<!--                <td th:text="${phieuDangKy.user.getHoten()}"></td>-->
<!--                <td th:text="${phieuDangKy.user.getNgaySinh()}"></td>-->
<!--                <td th:text="${phieuDangKy.getEmail()}"></td>-->
<!--                <td th:text="${phieuDangKy.getSdt()}"></td>-->
<!--                <td th:text="${truongService.findTruongById(phieuDangKy.getTruongId()).getTenTruong()}"></td>-->
<!--                <td th:text="${phieuKetQuaService.getDiemByCuocThiIdvaUserId(phieuDangKy.cuocThi.id, phieuDangKy.user.id)}"></td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->
<!--</div>-->

<div style="padding: 100px;">
    <div class="row justify-content-center">
        <!-- Tiêu đề -->
        <div class="col-12 text-center">
            <h2 class="mb-4 text-primary fw-bold">Danh Sách Thí Sinh Theo Trường</h2>
        </div>
    </div>

    <!-- Bộ lọc -->
    <div class="row mb-3">
        <div class="col-md-6">
            <label for="filterCuocThi" class="form-label">Lọc theo cuộc thi:</label>
            <select id="filterCuocThi" class="form-select">
                <option value="all">Tất cả các cuộc thi</option>
                <option th:each="cuocThi : ${cuocThiList}"
                        th:value="${cuocThi.id}"
                        th:text="${cuocThi.tenCuocThi}"></option>
            </select>
        </div>
        <div class="col-md-6">
            <label for="searchKeyword" class="form-label">Tìm kiếm theo tên hoặc CCCD:</label>
            <input type="text" id="searchKeyword" class="form-control" placeholder="Nhập tên hoặc CCCD">
        </div>
    </div>


    <!-- Bảng danh sách -->
<!--    <div class="table-responsive">-->
<!--        <table class="table table-bordered table-hover align-middle">-->
<!--            <thead class="table-dark">-->
<!--            <tr>-->
<!--                <th>Mã phiếu</th>-->
<!--                <th>Cuộc thi</th>-->
<!--                <th>CCCD</th>-->
<!--                <th>Họ và tên</th>-->
<!--                <th>Ngày sinh</th>-->
<!--                <th>Email</th>-->
<!--                <th>SDT</th>-->
<!--                <th>Trường</th>-->
<!--                <th>Điểm</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="phieuDangKy : ${phieuDangKys}">-->
<!--                <td th:text="${phieuDangKy.id}"></td>-->
<!--                <td th:text="${phieuDangKy.cuocThi.tenCuocThi}"></td> &lt;!&ndash; Sửa lại để đảm bảo gọi đúng thuộc tính &ndash;&gt;-->
<!--                <td th:text="${phieuDangKy.user.cccd}"></td> &lt;!&ndash; Gọi trực tiếp thuộc tính CCCD &ndash;&gt;-->
<!--                <td th:text="${phieuDangKy.user.hoten}"></td> &lt;!&ndash; Gọi trực tiếp thuộc tính họ tên &ndash;&gt;-->
<!--                <td th:text="${phieuDangKy.user.ngaySinh}"></td> &lt;!&ndash; Gọi trực tiếp thuộc tính ngày sinh &ndash;&gt;-->
<!--                <td th:text="${phieuDangKy.email}"></td> &lt;!&ndash; Gọi trực tiếp email &ndash;&gt;-->
<!--                <td th:text="${phieuDangKy.sdt}"></td> &lt;!&ndash; Gọi trực tiếp số điện thoại &ndash;&gt;-->
<!--                <td th:text="${truongService.findTruongById(phieuDangKy.truongId).tenTruong}"></td> &lt;!&ndash; Truyền trường từ service &ndash;&gt;-->
<!--                <td th:text="${phieuKetQuaService.getDiemByCuocThiIdvaUserId(phieuDangKy.cuocThi.id, phieuDangKy.user.id)}"></td> &lt;!&ndash; Điểm của thí sinh &ndash;&gt;-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->


    <!-- Export Buttons -->
    <div class="text-center mt-4">
        <button class="btn btn-success me-2"><i class="fa-solid fa-file-excel"></i> Export to Excel</button>
        <button class="btn btn-danger"><i class="fa-solid fa-file-pdf"></i> Export to PDF</button>
    </div>

    <div class="menu-dropdown">
        <div class="dropdown-content">
            <a class="btn btn-info mb-4" th:href="@{/api/excel/export/pdk/cuocThi/{id}(id=${cuocThiId})}">DS phiếu đăng ký</a>
            <a class="btn btn-info mb-4" th:href="@{/api/excel/export/diem/cuocThi/{id}(id=${cuocThiId})}">DS phiếu kết quả</a>
        </div>
    </div>

</div>

<th:block th:replace="~{layout::footerAdminTruong}"></th:block>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById('filterSchool').addEventListener('change', function () {
        // Gửi yêu cầu lọc theo trường hoặc cập nhật danh sách
        console.log('Selected School:', this.value);
    });

    document.getElementById('searchKeyword').addEventListener('keyup', function () {
        // Gửi yêu cầu tìm kiếm theo từ khóa hoặc cập nhật danh sách
        console.log('Search Keyword:', this.value);
    });
</script>
</body>
</html>
